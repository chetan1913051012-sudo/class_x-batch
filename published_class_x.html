<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class X - Media Portal</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script><style>/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */
@layer properties;
@layer theme, base, components, utilities;
@layer theme {
  :root, :host {
    --font-sans: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
    'Noto Color Emoji';
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
    monospace;
    --color-red-500: oklch(63.7% 0.237 25.331);
    --color-red-700: oklch(50.5% 0.213 27.518);
    --color-green-100: oklch(96.2% 0.044 156.743);
    --color-green-600: oklch(62.7% 0.194 149.214);
    --color-green-700: oklch(52.7% 0.154 150.069);
    --color-blue-50: oklch(97% 0.014 254.604);
    --color-blue-100: oklch(93.2% 0.032 255.585);
    --color-blue-600: oklch(54.6% 0.245 262.881);
    --color-blue-700: oklch(48.8% 0.243 264.376);
    --color-blue-900: oklch(37.9% 0.146 265.522);
    --color-indigo-50: oklch(96.2% 0.018 272.314);
    --color-indigo-100: oklch(93% 0.034 272.788);
    --color-indigo-500: oklch(58.5% 0.233 277.117);
    --color-indigo-600: oklch(51.1% 0.262 276.966);
    --color-indigo-700: oklch(45.7% 0.24 277.023);
    --color-purple-100: oklch(94.6% 0.033 307.174);
    --color-purple-600: oklch(55.8% 0.288 302.321);
    --color-gray-50: oklch(98.5% 0.002 247.839);
    --color-gray-100: oklch(96.7% 0.003 264.542);
    --color-gray-200: oklch(92.8% 0.006 264.531);
    --color-gray-300: oklch(87.2% 0.01 258.338);
    --color-gray-400: oklch(70.7% 0.022 261.325);
    --color-gray-500: oklch(55.1% 0.027 264.364);
    --color-gray-600: oklch(44.6% 0.03 256.802);
    --color-gray-700: oklch(37.3% 0.034 259.733);
    --color-gray-800: oklch(27.8% 0.033 256.848);
    --color-gray-900: oklch(21% 0.034 264.665);
    --color-black: #000;
    --color-white: #fff;
    --spacing: 0.25rem;
    --container-md: 28rem;
    --container-2xl: 42rem;
    --container-5xl: 64rem;
    --container-7xl: 80rem;
    --text-xs: 0.75rem;
    --text-xs--line-height: calc(1 / 0.75);
    --text-sm: 0.875rem;
    --text-sm--line-height: calc(1.25 / 0.875);
    --text-lg: 1.125rem;
    --text-lg--line-height: calc(1.75 / 1.125);
    --text-xl: 1.25rem;
    --text-xl--line-height: calc(1.75 / 1.25);
    --text-2xl: 1.5rem;
    --text-2xl--line-height: calc(2 / 1.5);
    --text-3xl: 1.875rem;
    --text-3xl--line-height: calc(2.25 / 1.875);
    --text-5xl: 3rem;
    --text-5xl--line-height: 1;
    --text-6xl: 3.75rem;
    --text-6xl--line-height: 1;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --tracking-tight: -0.025em;
    --tracking-widest: 0.1em;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;
    --default-transition-duration: 150ms;
    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    --default-font-family: var(--font-sans);
    --default-mono-font-family: var(--font-mono);
  }
}
@layer base {
  *, ::after, ::before, ::backdrop, ::file-selector-button {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border: 0 solid;
  }
  html, :host {
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
    tab-size: 4;
    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji');
    font-feature-settings: var(--default-font-feature-settings, normal);
    font-variation-settings: var(--default-font-variation-settings, normal);
    -webkit-tap-highlight-color: transparent;
  }
  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }
  abbr:where([title]) {
    -webkit-text-decoration: underline dotted;
    text-decoration: underline dotted;
  }
  h1, h2, h3, h4, h5, h6 {
    font-size: inherit;
    font-weight: inherit;
  }
  a {
    color: inherit;
    -webkit-text-decoration: inherit;
    text-decoration: inherit;
  }
  b, strong {
    font-weight: bolder;
  }
  code, kbd, samp, pre {
    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace);
    font-feature-settings: var(--default-mono-font-feature-settings, normal);
    font-variation-settings: var(--default-mono-font-variation-settings, normal);
    font-size: 1em;
  }
  small {
    font-size: 80%;
  }
  sub, sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }
  sub {
    bottom: -0.25em;
  }
  sup {
    top: -0.5em;
  }
  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }
  :-moz-focusring {
    outline: auto;
  }
  progress {
    vertical-align: baseline;
  }
  summary {
    display: list-item;
  }
  ol, ul, menu {
    list-style: none;
  }
  img, svg, video, canvas, audio, iframe, embed, object {
    display: block;
    vertical-align: middle;
  }
  img, video {
    max-width: 100%;
    height: auto;
  }
  button, input, select, optgroup, textarea, ::file-selector-button {
    font: inherit;
    font-feature-settings: inherit;
    font-variation-settings: inherit;
    letter-spacing: inherit;
    color: inherit;
    border-radius: 0;
    background-color: transparent;
    opacity: 1;
  }
  :where(select:is([multiple], [size])) optgroup {
    font-weight: bolder;
  }
  :where(select:is([multiple], [size])) optgroup option {
    padding-inline-start: 20px;
  }
  ::file-selector-button {
    margin-inline-end: 4px;
  }
  ::placeholder {
    opacity: 1;
  }
  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {
    ::placeholder {
      color: currentcolor;
      @supports (color: color-mix(in lab, red, red)) {
        color: color-mix(in oklab, currentcolor 50%, transparent);
      }
    }
  }
  textarea {
    resize: vertical;
  }
  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }
  ::-webkit-date-and-time-value {
    min-height: 1lh;
    text-align: inherit;
  }
  ::-webkit-datetime-edit {
    display: inline-flex;
  }
  ::-webkit-datetime-edit-fields-wrapper {
    padding: 0;
  }
  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {
    padding-block: 0;
  }
  ::-webkit-calendar-picker-indicator {
    line-height: 1;
  }
  :-moz-ui-invalid {
    box-shadow: none;
  }
  button, input:where([type='button'], [type='reset'], [type='submit']), ::file-selector-button {
    appearance: button;
  }
  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {
    height: auto;
  }
  [hidden]:where(:not([hidden='until-found'])) {
    display: none !important;
  }
}
@layer utilities {
  .absolute {
    position: absolute;
  }
  .fixed {
    position: fixed;
  }
  .sticky {
    position: sticky;
  }
  .inset-0 {
    inset: calc(var(--spacing) * 0);
  }
  .top-0 {
    top: calc(var(--spacing) * 0);
  }
  .top-6 {
    top: calc(var(--spacing) * 6);
  }
  .right-6 {
    right: calc(var(--spacing) * 6);
  }
  .z-50 {
    z-index: 50;
  }
  .z-\[60\] {
    z-index: 60;
  }
  .mx-auto {
    margin-inline: auto;
  }
  .mt-6 {
    margin-top: calc(var(--spacing) * 6);
  }
  .mt-10 {
    margin-top: calc(var(--spacing) * 10);
  }
  .mt-12 {
    margin-top: calc(var(--spacing) * 12);
  }
  .mb-1 {
    margin-bottom: calc(var(--spacing) * 1);
  }
  .mb-2 {
    margin-bottom: calc(var(--spacing) * 2);
  }
  .mb-4 {
    margin-bottom: calc(var(--spacing) * 4);
  }
  .mb-6 {
    margin-bottom: calc(var(--spacing) * 6);
  }
  .mb-8 {
    margin-bottom: calc(var(--spacing) * 8);
  }
  .mb-10 {
    margin-bottom: calc(var(--spacing) * 10);
  }
  .block {
    display: block;
  }
  .flex {
    display: flex;
  }
  .grid {
    display: grid;
  }
  .hidden {
    display: none;
  }
  .h-5 {
    height: calc(var(--spacing) * 5);
  }
  .h-12 {
    height: calc(var(--spacing) * 12);
  }
  .h-16 {
    height: calc(var(--spacing) * 16);
  }
  .max-h-64 {
    max-height: calc(var(--spacing) * 64);
  }
  .min-h-screen {
    min-height: 100vh;
  }
  .w-5 {
    width: calc(var(--spacing) * 5);
  }
  .w-12 {
    width: calc(var(--spacing) * 12);
  }
  .w-full {
    width: 100%;
  }
  .max-w-2xl {
    max-width: var(--container-2xl);
  }
  .max-w-5xl {
    max-width: var(--container-5xl);
  }
  .max-w-7xl {
    max-width: var(--container-7xl);
  }
  .max-w-md {
    max-width: var(--container-md);
  }
  .flex-1 {
    flex: 1;
  }
  .cursor-pointer {
    cursor: pointer;
  }
  .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
  .items-center {
    align-items: center;
  }
  .justify-between {
    justify-content: space-between;
  }
  .justify-center {
    justify-content: center;
  }
  .gap-2 {
    gap: calc(var(--spacing) * 2);
  }
  .gap-4 {
    gap: calc(var(--spacing) * 4);
  }
  .gap-6 {
    gap: calc(var(--spacing) * 6);
  }
  .gap-8 {
    gap: calc(var(--spacing) * 8);
  }
  .space-y-2 {
    :where(& > :not(:last-child)) {
      --tw-space-y-reverse: 0;
      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));
      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));
    }
  }
  .space-y-4 {
    :where(& > :not(:last-child)) {
      --tw-space-y-reverse: 0;
      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));
      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));
    }
  }
  .space-y-6 {
    :where(& > :not(:last-child)) {
      --tw-space-y-reverse: 0;
      margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));
      margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));
    }
  }
  .overflow-x-auto {
    overflow-x: auto;
  }
  .overflow-y-auto {
    overflow-y: auto;
  }
  .rounded-2xl {
    border-radius: var(--radius-2xl);
  }
  .rounded-full {
    border-radius: calc(infinity * 1px);
  }
  .rounded-lg {
    border-radius: var(--radius-lg);
  }
  .rounded-md {
    border-radius: var(--radius-md);
  }
  .rounded-xl {
    border-radius: var(--radius-xl);
  }
  .border {
    border-style: var(--tw-border-style);
    border-width: 1px;
  }
  .border-b {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 1px;
  }
  .border-b-2 {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 2px;
  }
  .border-gray-100 {
    border-color: var(--color-gray-100);
  }
  .border-gray-200 {
    border-color: var(--color-gray-200);
  }
  .border-gray-300 {
    border-color: var(--color-gray-300);
  }
  .border-indigo-600 {
    border-color: var(--color-indigo-600);
  }
  .border-transparent {
    border-color: transparent;
  }
  .bg-blue-100 {
    background-color: var(--color-blue-100);
  }
  .bg-gray-50 {
    background-color: var(--color-gray-50);
  }
  .bg-gray-200 {
    background-color: var(--color-gray-200);
  }
  .bg-gray-800 {
    background-color: var(--color-gray-800);
  }
  .bg-gray-900 {
    background-color: var(--color-gray-900);
  }
  .bg-green-100 {
    background-color: var(--color-green-100);
  }
  .bg-green-600 {
    background-color: var(--color-green-600);
  }
  .bg-indigo-600 {
    background-color: var(--color-indigo-600);
  }
  .bg-purple-100 {
    background-color: var(--color-purple-100);
  }
  .bg-white {
    background-color: var(--color-white);
  }
  .bg-white\/10 {
    background-color: color-mix(in srgb, #fff 10%, transparent);
    @supports (color: color-mix(in lab, red, red)) {
      background-color: color-mix(in oklab, var(--color-white) 10%, transparent);
    }
  }
  .bg-gradient-to-br {
    --tw-gradient-position: to bottom right in oklab;
    background-image: linear-gradient(var(--tw-gradient-stops));
  }
  .from-blue-600 {
    --tw-gradient-from: var(--color-blue-600);
    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));
  }
  .to-indigo-700 {
    --tw-gradient-to: var(--color-indigo-700);
    --tw-gradient-stops: var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position));
  }
  .p-2 {
    padding: calc(var(--spacing) * 2);
  }
  .p-3 {
    padding: calc(var(--spacing) * 3);
  }
  .p-4 {
    padding: calc(var(--spacing) * 4);
  }
  .p-6 {
    padding: calc(var(--spacing) * 6);
  }
  .p-8 {
    padding: calc(var(--spacing) * 8);
  }
  .px-3 {
    padding-inline: calc(var(--spacing) * 3);
  }
  .px-4 {
    padding-inline: calc(var(--spacing) * 4);
  }
  .px-8 {
    padding-inline: calc(var(--spacing) * 8);
  }
  .py-2 {
    padding-block: calc(var(--spacing) * 2);
  }
  .py-3 {
    padding-block: calc(var(--spacing) * 3);
  }
  .py-4 {
    padding-block: calc(var(--spacing) * 4);
  }
  .py-8 {
    padding-block: calc(var(--spacing) * 8);
  }
  .py-20 {
    padding-block: calc(var(--spacing) * 20);
  }
  .pb-2 {
    padding-bottom: calc(var(--spacing) * 2);
  }
  .text-center {
    text-align: center;
  }
  .text-2xl {
    font-size: var(--text-2xl);
    line-height: var(--tw-leading, var(--text-2xl--line-height));
  }
  .text-3xl {
    font-size: var(--text-3xl);
    line-height: var(--tw-leading, var(--text-3xl--line-height));
  }
  .text-5xl {
    font-size: var(--text-5xl);
    line-height: var(--tw-leading, var(--text-5xl--line-height));
  }
  .text-6xl {
    font-size: var(--text-6xl);
    line-height: var(--tw-leading, var(--text-6xl--line-height));
  }
  .text-lg {
    font-size: var(--text-lg);
    line-height: var(--tw-leading, var(--text-lg--line-height));
  }
  .text-sm {
    font-size: var(--text-sm);
    line-height: var(--tw-leading, var(--text-sm--line-height));
  }
  .text-xl {
    font-size: var(--text-xl);
    line-height: var(--tw-leading, var(--text-xl--line-height));
  }
  .text-xs {
    font-size: var(--text-xs);
    line-height: var(--tw-leading, var(--text-xs--line-height));
  }
  .font-bold {
    --tw-font-weight: var(--font-weight-bold);
    font-weight: var(--font-weight-bold);
  }
  .font-extrabold {
    --tw-font-weight: var(--font-weight-extrabold);
    font-weight: var(--font-weight-extrabold);
  }
  .font-medium {
    --tw-font-weight: var(--font-weight-medium);
    font-weight: var(--font-weight-medium);
  }
  .tracking-tight {
    --tw-tracking: var(--tracking-tight);
    letter-spacing: var(--tracking-tight);
  }
  .tracking-widest {
    --tw-tracking: var(--tracking-widest);
    letter-spacing: var(--tracking-widest);
  }
  .text-blue-600 {
    color: var(--color-blue-600);
  }
  .text-blue-700 {
    color: var(--color-blue-700);
  }
  .text-blue-900 {
    color: var(--color-blue-900);
  }
  .text-gray-300 {
    color: var(--color-gray-300);
  }
  .text-gray-400 {
    color: var(--color-gray-400);
  }
  .text-gray-500 {
    color: var(--color-gray-500);
  }
  .text-gray-600 {
    color: var(--color-gray-600);
  }
  .text-gray-700 {
    color: var(--color-gray-700);
  }
  .text-gray-900 {
    color: var(--color-gray-900);
  }
  .text-green-600 {
    color: var(--color-green-600);
  }
  .text-indigo-100 {
    color: var(--color-indigo-100);
  }
  .text-indigo-600 {
    color: var(--color-indigo-600);
  }
  .text-purple-600 {
    color: var(--color-purple-600);
  }
  .text-red-500 {
    color: var(--color-red-500);
  }
  .text-white {
    color: var(--color-white);
  }
  .uppercase {
    text-transform: uppercase;
  }
  .italic {
    font-style: italic;
  }
  .shadow-lg {
    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .shadow-sm {
    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .shadow-xl {
    --tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
  .transition {
    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter, display, content-visibility, overlay, pointer-events;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }
  .transition-all {
    transition-property: all;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }
  .file\:mr-4 {
    &::file-selector-button {
      margin-right: calc(var(--spacing) * 4);
    }
  }
  .file\:rounded-full {
    &::file-selector-button {
      border-radius: calc(infinity * 1px);
    }
  }
  .file\:border-0 {
    &::file-selector-button {
      border-style: var(--tw-border-style);
      border-width: 0px;
    }
  }
  .file\:bg-indigo-50 {
    &::file-selector-button {
      background-color: var(--color-indigo-50);
    }
  }
  .file\:px-4 {
    &::file-selector-button {
      padding-inline: calc(var(--spacing) * 4);
    }
  }
  .file\:py-2 {
    &::file-selector-button {
      padding-block: calc(var(--spacing) * 2);
    }
  }
  .file\:text-sm {
    &::file-selector-button {
      font-size: var(--text-sm);
      line-height: var(--tw-leading, var(--text-sm--line-height));
    }
  }
  .file\:font-semibold {
    &::file-selector-button {
      --tw-font-weight: var(--font-weight-semibold);
      font-weight: var(--font-weight-semibold);
    }
  }
  .file\:text-indigo-700 {
    &::file-selector-button {
      color: var(--color-indigo-700);
    }
  }
  .hover\:bg-black {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-black);
      }
    }
  }
  .hover\:bg-blue-50 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-blue-50);
      }
    }
  }
  .hover\:bg-green-700 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-green-700);
      }
    }
  }
  .hover\:bg-indigo-50 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-indigo-50);
      }
    }
  }
  .hover\:bg-indigo-700 {
    &:hover {
      @media (hover: hover) {
        background-color: var(--color-indigo-700);
      }
    }
  }
  .hover\:text-gray-700 {
    &:hover {
      @media (hover: hover) {
        color: var(--color-gray-700);
      }
    }
  }
  .hover\:text-indigo-600 {
    &:hover {
      @media (hover: hover) {
        color: var(--color-indigo-600);
      }
    }
  }
  .hover\:text-red-700 {
    &:hover {
      @media (hover: hover) {
        color: var(--color-red-700);
      }
    }
  }
  .hover\:file\:bg-indigo-100 {
    &:hover {
      @media (hover: hover) {
        &::file-selector-button {
          background-color: var(--color-indigo-100);
        }
      }
    }
  }
  .focus\:ring-2 {
    &:focus {
      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    }
  }
  .focus\:ring-indigo-500 {
    &:focus {
      --tw-ring-color: var(--color-indigo-500);
    }
  }
  .focus\:outline-none {
    &:focus {
      --tw-outline-style: none;
      outline-style: none;
    }
  }
  .sm\:grid-cols-2 {
    @media (width >= 40rem) {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }
  .sm\:px-6 {
    @media (width >= 40rem) {
      padding-inline: calc(var(--spacing) * 6);
    }
  }
  .md\:grid-cols-3 {
    @media (width >= 48rem) {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }
  .lg\:col-span-1 {
    @media (width >= 64rem) {
      grid-column: span 1 / span 1;
    }
  }
  .lg\:col-span-2 {
    @media (width >= 64rem) {
      grid-column: span 2 / span 2;
    }
  }
  .lg\:grid-cols-3 {
    @media (width >= 64rem) {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }
  .lg\:px-8 {
    @media (width >= 64rem) {
      padding-inline: calc(var(--spacing) * 8);
    }
  }
  .xl\:grid-cols-4 {
    @media (width >= 80rem) {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
  }
}
@property --tw-space-y-reverse {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-border-style {
  syntax: "*";
  inherits: false;
  initial-value: solid;
}
@property --tw-gradient-position {
  syntax: "*";
  inherits: false;
}
@property --tw-gradient-from {
  syntax: "<color>";
  inherits: false;
  initial-value: #0000;
}
@property --tw-gradient-via {
  syntax: "<color>";
  inherits: false;
  initial-value: #0000;
}
@property --tw-gradient-to {
  syntax: "<color>";
  inherits: false;
  initial-value: #0000;
}
@property --tw-gradient-stops {
  syntax: "*";
  inherits: false;
}
@property --tw-gradient-via-stops {
  syntax: "*";
  inherits: false;
}
@property --tw-gradient-from-position {
  syntax: "<length-percentage>";
  inherits: false;
  initial-value: 0%;
}
@property --tw-gradient-via-position {
  syntax: "<length-percentage>";
  inherits: false;
  initial-value: 50%;
}
@property --tw-gradient-to-position {
  syntax: "<length-percentage>";
  inherits: false;
  initial-value: 100%;
}
@property --tw-font-weight {
  syntax: "*";
  inherits: false;
}
@property --tw-tracking {
  syntax: "*";
  inherits: false;
}
@property --tw-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-shadow-color {
  syntax: "*";
  inherits: false;
}
@property --tw-shadow-alpha {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 100%;
}
@property --tw-inset-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-inset-shadow-color {
  syntax: "*";
  inherits: false;
}
@property --tw-inset-shadow-alpha {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 100%;
}
@property --tw-ring-color {
  syntax: "*";
  inherits: false;
}
@property --tw-ring-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-inset-ring-color {
  syntax: "*";
  inherits: false;
}
@property --tw-inset-ring-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-ring-inset {
  syntax: "*";
  inherits: false;
}
@property --tw-ring-offset-width {
  syntax: "<length>";
  inherits: false;
  initial-value: 0px;
}
@property --tw-ring-offset-color {
  syntax: "*";
  inherits: false;
  initial-value: #fff;
}
@property --tw-ring-offset-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@layer properties {
  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {
    *, ::before, ::after, ::backdrop {
      --tw-space-y-reverse: 0;
      --tw-border-style: solid;
      --tw-gradient-position: initial;
      --tw-gradient-from: #0000;
      --tw-gradient-via: #0000;
      --tw-gradient-to: #0000;
      --tw-gradient-stops: initial;
      --tw-gradient-via-stops: initial;
      --tw-gradient-from-position: 0%;
      --tw-gradient-via-position: 50%;
      --tw-gradient-to-position: 100%;
      --tw-font-weight: initial;
      --tw-tracking: initial;
      --tw-shadow: 0 0 #0000;
      --tw-shadow-color: initial;
      --tw-shadow-alpha: 100%;
      --tw-inset-shadow: 0 0 #0000;
      --tw-inset-shadow-color: initial;
      --tw-inset-shadow-alpha: 100%;
      --tw-ring-color: initial;
      --tw-ring-shadow: 0 0 #0000;
      --tw-inset-ring-color: initial;
      --tw-inset-ring-shadow: 0 0 #0000;
      --tw-ring-inset: initial;
      --tw-ring-offset-width: 0px;
      --tw-ring-offset-color: #fff;
      --tw-ring-offset-shadow: 0 0 #0000;
    }
  }
}
</style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
        .modal-bg { background: rgba(0, 0, 0, 0.5); }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2 cursor-pointer" onclick="showSection('home')">
                    <div class="bg-indigo-600 text-white p-2 rounded-lg">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <span class="text-xl font-bold tracking-tight">Class X</span>
                </div>
                <div class="flex gap-4">
                    <button onclick="showSection('gallery')" class="text-gray-600 hover:text-indigo-600 font-medium">Student Gallery</button>
                    <button onclick="showSection('admin-login')" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition">Admin</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Content Sections -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Home Section -->
        <section id="section-home" class="section hidden">
            <div class="text-center py-20">
                <h1 class="text-5xl font-extrabold text-gray-900 mb-6">Welcome to Class X Portal</h1>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto mb-10">A private space for our class to share memories, photos, and educational videos safely.</p>
                <div class="flex justify-center gap-4">
                    <button onclick="showSection('gallery')" class="bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-indigo-700 transition-all">View Gallery</button>
                    <button onclick="showSection('admin-login')" class="bg-white text-indigo-600 border border-indigo-600 px-8 py-3 rounded-xl font-bold text-lg hover:bg-indigo-50 transition-all">Admin Access</button>
                </div>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8 mt-12">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                    <div class="w-12 h-12 bg-blue-100 text-blue-600 flex items-center justify-center rounded-xl mb-4">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Secure Access</h3>
                    <p class="text-gray-500">Only students with the class password can view the shared content.</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                    <div class="w-12 h-12 bg-purple-100 text-purple-600 flex items-center justify-center rounded-xl mb-4">
                        <i class="fas fa-photo-video"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Rich Media</h3>
                    <p class="text-gray-500">Supports high-quality images and videos for a better learning experience.</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                    <div class="w-12 h-12 bg-green-100 text-green-600 flex items-center justify-center rounded-xl mb-4">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Admin Control</h3>
                    <p class="text-gray-500">Teachers have full control over the content shared on the platform.</p>
                </div>
            </div>
        </section>

        <!-- Student Gallery Login -->
        <section id="section-gallery-login" class="section hidden">
            <div class="max-w-md mx-auto bg-white p-8 rounded-2xl shadow-xl border border-gray-100 mt-10">
                <h2 class="text-2xl font-bold text-center mb-6">Student Gallery Access</h2>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Student Name</label>
                        <input type="text" id="student-name-input" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:outline-none" placeholder="Your name...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input type="password" id="student-password-input" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:outline-none" placeholder="Enter password...">
                    </div>
                    <button onclick="checkStudentPassword()" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition">Enter Gallery</button>
                </div>
            </div>
        </section>

        <!-- Admin Login -->
        <section id="section-admin-login" class="section hidden">
            <div class="max-w-md mx-auto bg-white p-8 rounded-2xl shadow-xl border border-gray-100 mt-10">
                <h2 class="text-2xl font-bold text-center mb-6">Admin Dashboard Access</h2>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Admin Password</label>
                        <input type="password" id="admin-password-input" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:outline-none" placeholder="Enter admin password...">
                    </div>
                    <button onclick="checkAdminPassword()" class="w-full bg-gray-900 text-white py-3 rounded-lg font-bold hover:bg-black transition">Login as Admin</button>
                </div>
            </div>
        </section>

        <!-- Student Gallery View -->
        <section id="section-gallery" class="section hidden">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">Class X Gallery</h2>
                <button onclick="logout()" class="text-red-500 hover:text-red-700 font-medium">Logout</button>
            </div>
            
            <!-- Filters -->
            <div class="flex gap-2 mb-8 overflow-x-auto pb-2">
                <button onclick="filterGallery('all')" class="filter-btn active bg-indigo-600 text-white px-4 py-2 rounded-full text-sm font-medium">All Media</button>
                <button onclick="filterGallery('image')" class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm font-medium">Photos</button>
                <button onclick="filterGallery('video')" class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm font-medium">Videos</button>
            </div>

            <div id="gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 hidden"></div>
            <div id="empty-gallery" class="text-center py-20">
                <i class="far fa-folder-open text-6xl text-gray-300 mb-4"></i>
                <p class="text-gray-500 text-lg">No media has been uploaded yet.</p>
            </div>
        </section>

        <!-- Admin Dashboard View -->
        <section id="section-home" class="section">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">Admin Dashboard</h2>
                <button onclick="logout()" class="text-red-500 hover:text-red-700 font-medium">Logout</button>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Sidebar: Media Upload & Student Management -->
                <div class="lg:col-span-1 space-y-6">
                    <!-- Media Upload -->
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h3 class="text-lg font-bold mb-4">Add New Media</h3>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                                <input type="text" id="media-title" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="e.g. Science Project">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Media Type</label>
                                <select id="media-type" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <option value="image">Image</option>
                                    <option value="video">Video</option>
                                </select>
                            </div>

                            <div id="upload-method-tabs" class="flex border-b border-gray-200">
                                <button onclick="setUploadMethod('file')" id="method-file" class="flex-1 py-2 text-sm font-medium border-b-2 border-indigo-600 text-indigo-600">Upload File</button>
                                <button onclick="setUploadMethod('url')" id="method-url" class="flex-1 py-2 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700">Media URL</button>
                            </div>

                            <div id="input-file-container">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Select File</label>
                                <input type="file" id="media-file" accept="image/*,video/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
                            </div>

                            <div id="input-url-container" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Image or Video URL</label>
                                <input type="text" id="media-url" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="https://example.com/image.jpg">
                            </div>

                            <button onclick="handleMediaUpload()" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition">Upload Media</button>
                        </div>
                    </div>

                    <!-- Student Management -->
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h3 class="text-lg font-bold mb-4">Manage Students</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Student Name</label>
                                <input type="text" id="new-student-name" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Student Full Name">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                                <input type="text" id="new-student-pass" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Access Password">
                            </div>
                            <button onclick="addStudent()" class="w-full bg-green-600 text-white py-2 rounded-lg font-bold hover:bg-green-700 transition">Add Student</button>
                        </div>
                        <div id="admin-student-list" class="mt-6 space-y-2 max-h-64 overflow-y-auto"><p class="text-gray-400 text-sm italic">No students added yet.</p></div>
                    </div>

                    <!-- Netlify Sync Tool -->
                    <div class="bg-gradient-to-br from-blue-600 to-indigo-700 text-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-lg font-bold mb-2 flex items-center gap-2">
                            <i class="fas fa-cloud-upload-alt"></i> Sync with Netlify
                        </h3>
                        <p class="text-xs text-indigo-100 mb-4">Since you are not using a database, you must update the website file whenever you add new content.</p>
                        
                        <div class="bg-white/10 p-3 rounded-lg text-xs space-y-2 mb-4">
                            <div class="flex gap-2">
                                <span class="bg-white text-blue-700 w-5 h-5 flex items-center justify-center rounded-full font-bold">1</span>
                                <span>Add your photos and students here.</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="bg-white text-blue-700 w-5 h-5 flex items-center justify-center rounded-full font-bold">2</span>
                                <span>Click the button below to save changes.</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="bg-white text-blue-700 w-5 h-5 flex items-center justify-center rounded-full font-bold">3</span>
                                <span>Drag the new file into Netlify Deploys.</span>
                            </div>
                        </div>

                        <button onclick="exportStaticSite()" class="w-full bg-white text-blue-900 py-3 rounded-xl font-bold text-sm hover:bg-blue-50 transition shadow-xl flex items-center justify-center gap-2">
                            <i class="fas fa-file-download"></i> Download Updated Site
                        </button>
                    </div>

                    <!-- Cloud Alternatives -->
                    <div class="bg-gray-800 text-white p-6 rounded-2xl shadow-sm">
                        <h3 class="text-sm font-bold mb-2 text-gray-400 uppercase tracking-widest">Advanced Tip</h3>
                        <p class="text-xs text-gray-400">For large videos, don't upload them! Use the <b>Media URL</b> tab and paste a YouTube link. It makes your website much faster for students.</p>
                    </div>
                </div>

                <!-- Management Column -->
                <div class="lg:col-span-2">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h3 class="text-lg font-bold mb-4">Manage Content</h3>
                        <div id="admin-media-list" class="space-y-4"><p class="text-gray-400 italic text-center py-4">No content yet.</p></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Fullscreen Lightbox / Player -->
    <div id="media-modal" class="fixed inset-0 z-[60] hidden flex items-center justify-center p-4 modal-bg">
        <button onclick="closeModal()" class="absolute top-6 right-6 text-white text-3xl">Ã—</button>
        <div id="modal-content" class="max-w-5xl w-full flex items-center justify-center">
            <!-- Content injected here -->
        </div>
    </div>

    <script>
        // State Management
        let appState = {
            currentView: 'home',
            isStudentAuthenticated: false,
            isAdminAuthenticated: false,
            // DATA_START
            mediaItems: [],
            students: [],
            // DATA_END
            uploadMethod: 'file'
        };

        const PASSWORDS = {
            admin: 'admin123'
        };

        // Initialize App
        function init() {
            // Load from storage (for the admin's local session)
            const savedMedia = localStorage.getItem('classx_media');
            const savedStudents = localStorage.getItem('classx_students');

            // If the file already has "baked-in" data from a previous export, use that as the base
            if (appState.mediaItems.length === 0 && savedMedia) {
                appState.mediaItems = JSON.parse(savedMedia);
            }
            if (appState.students.length === 0 && savedStudents) {
                appState.students = JSON.parse(savedStudents);
            }
            
            renderGallery();
            renderAdminList();
            renderStudentList();
            showSection('home');
        }

        // Section Navigation
        function showSection(sectionId) {
            // Check permissions
            if (sectionId === 'gallery' && !appState.isStudentAuthenticated) {
                sectionId = 'gallery-login';
            }
            if (sectionId === 'admin-dashboard' && !appState.isAdminAuthenticated) {
                sectionId = 'admin-login';
            }

            document.querySelectorAll('.section').forEach(el => el.classList.add('hidden'));
            const target = document.getElementById(`section-${sectionId}`);
            if (target) {
                target.classList.remove('hidden');
                appState.currentView = sectionId;
            }
        }

        // Auth Logic
        function checkStudentPassword() {
            const name = document.getElementById('student-name-input').value.trim();
            const pwd = document.getElementById('student-password-input').value;
            
            const student = appState.students.find(s => s.name.toLowerCase() === name.toLowerCase() && s.password === pwd);
            
            if (student) {
                appState.isStudentAuthenticated = true;
                showSection('gallery');
            } else {
                alert('Invalid student name or password!');
            }
        }

        function checkAdminPassword() {
            const pwd = document.getElementById('admin-password-input').value;
            if (pwd === PASSWORDS.admin) {
                appState.isAdminAuthenticated = true;
                showSection('admin-dashboard');
                renderStudentList();
            } else {
                alert('Incorrect admin password!');
            }
        }

        function logout() {
            appState.isStudentAuthenticated = false;
            appState.isAdminAuthenticated = false;
            showSection('home');
        }

        // Student Management
        function addStudent() {
            const name = document.getElementById('new-student-name').value.trim();
            const password = document.getElementById('new-student-pass').value.trim();

            if (!name || !password) return alert('Please provide both name and password');

            const newStudent = { id: Date.now(), name, password };
            
            appState.students.push(newStudent);
            saveStudentsToStorage();
            renderStudentList();
            
            document.getElementById('new-student-name').value = '';
            document.getElementById('new-student-pass').value = '';
        }

        function deleteStudent(id) {
            if (confirm('Delete this student?')) {
                appState.students = appState.students.filter(s => s.id !== id);
                saveStudentsToStorage();
                renderStudentList();
            }
        }

        function saveStudentsToStorage() {
            localStorage.setItem('classx_students', JSON.stringify(appState.students));
        }

        function renderStudentList() {
            const list = document.getElementById('admin-student-list');
            if (!list) return;
            list.innerHTML = '';
            
            if (appState.students.length === 0) {
                list.innerHTML = '<p class="text-gray-400 text-sm italic">No students added yet.</p>';
                return;
            }

            appState.students.forEach(student => {
                const item = document.createElement('div');
                item.className = 'flex items-center justify-between p-2 bg-gray-50 rounded-lg text-sm';
                item.innerHTML = `
                    <div class="overflow-hidden">
                        <p class="font-bold truncate">${student.name}</p>
                        <p class="text-xs text-gray-500 font-mono">${student.password}</p>
                    </div>
                    <button onclick="deleteStudent(${student.id})" class="text-red-400 hover:text-red-600 ml-2">
                        <i class="fas fa-user-minus"></i>
                    </button>
                `;
                list.appendChild(item);
            });
        }

        // Upload Logic
        function setUploadMethod(method) {
            appState.uploadMethod = method;
            const fileBtn = document.getElementById('method-file');
            const urlBtn = document.getElementById('method-url');
            const fileCont = document.getElementById('input-file-container');
            const urlCont = document.getElementById('input-url-container');

            if (method === 'file') {
                fileBtn.classList.add('border-indigo-600', 'text-indigo-600');
                fileBtn.classList.remove('border-transparent', 'text-gray-500');
                urlBtn.classList.remove('border-indigo-600', 'text-indigo-600');
                urlBtn.classList.add('border-transparent', 'text-gray-500');
                fileCont.classList.remove('hidden');
                urlCont.classList.add('hidden');
            } else {
                urlBtn.classList.add('border-indigo-600', 'text-indigo-600');
                urlBtn.classList.remove('border-transparent', 'text-gray-500');
                fileBtn.classList.remove('border-indigo-600', 'text-indigo-600');
                fileBtn.classList.add('border-transparent', 'text-gray-500');
                urlCont.classList.remove('hidden');
                fileCont.classList.add('hidden');
            }
        }

        async function handleMediaUpload() {
            const title = document.getElementById('media-title').value || 'Untitled';
            const type = document.getElementById('media-type').value;
            let src = '';

            if (appState.uploadMethod === 'file') {
                const fileInput = document.getElementById('media-file');
                if (fileInput.files.length === 0) return alert('Please select a file');
                
                const file = fileInput.files[0];
                // Allow up to 10MB for local file embedding in the HTML
                if (file.size > 10 * 1024 * 1024) {
                    return alert('File too large! For videos or high-res photos, please use the "Media URL" tab and link to YouTube or Google Drive instead.');
                }
                try {
                    src = await readFileAsBase64(file);
                } catch (e) {
                    return alert('Error processing file');
                }
            } else {
                src = document.getElementById('media-url').value;
                if (!src) return alert('Please enter a URL');
            }

            const newItem = {
                id: Date.now(),
                title,
                type,
                src,
                date: new Date().toLocaleDateString()
            };

            appState.mediaItems.unshift(newItem);
            saveToStorage();
            renderGallery();
            renderAdminList();
            
            document.getElementById('media-title').value = '';
            document.getElementById('media-url').value = '';
            document.getElementById('media-file').value = '';
            alert('Media added locally! To show students, remember to click "Download Updated Site" and upload it to Netlify.');
        }

        function readFileAsBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        function saveToStorage() {
            localStorage.setItem('classx_media', JSON.stringify(appState.mediaItems));
        }

        function deleteItem(id) {
            if (confirm('Are you sure you want to delete this item?')) {
                appState.mediaItems = appState.mediaItems.filter(item => item.id !== id);
                saveToStorage();
                renderGallery();
                renderAdminList();
            }
        }

        // Rendering Logic
        function renderGallery(filter = 'all') {
            const grid = document.getElementById('gallery-grid');
            const empty = document.getElementById('empty-gallery');
            grid.innerHTML = '';

            const filteredItems = appState.mediaItems.filter(item => filter === 'all' || item.type === filter);

            if (filteredItems.length === 0) {
                empty.classList.remove('hidden');
                grid.classList.add('hidden');
            } else {
                empty.classList.add('hidden');
                grid.classList.remove('hidden');
                
                filteredItems.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'group bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden cursor-pointer hover:shadow-md transition-all duration-300';
                    card.onclick = () => openModal(item);
                    
                    let preview = '';
                    if (item.type === 'image') {
                        preview = `<img src="${item.src}" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500" alt="${item.title}">`;
                    } else {
                        preview = `
                            <div class="w-full h-48 bg-gray-900 flex items-center justify-center relative">
                                <i class="fas fa-play-circle text-white text-5xl opacity-80"></i>
                                <span class="absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded">VIDEO</span>
                            </div>`;
                    }

                    card.innerHTML = `
                        ${preview}
                        <div class="p-4">
                            <h4 class="font-bold text-gray-800 truncate">${item.title}</h4>
                            <p class="text-xs text-gray-400 mt-1">${item.date}</p>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }
        }

        function renderAdminList() {
            const list = document.getElementById('admin-media-list');
            if (!list) return;
            list.innerHTML = '';

            if (appState.mediaItems.length === 0) {
                list.innerHTML = '<p class="text-gray-400 italic text-center py-4">No content yet.</p>';
                return;
            }

            appState.mediaItems.forEach(item => {
                const row = document.createElement('div');
                row.className = 'flex items-center justify-between p-3 border rounded-xl hover:bg-gray-50';
                
                row.innerHTML = `
                    <div class="flex items-center gap-3">
                        ${item.type === 'image' ? 
                            `<img src="${item.src}" class="w-12 h-12 object-cover rounded-lg">` : 
                            `<div class="w-12 h-12 bg-gray-200 flex items-center justify-center rounded-lg"><i class="fas fa-video text-gray-400"></i></div>`
                        }
                        <div>
                            <p class="font-semibold text-sm">${item.title}</p>
                            <p class="text-xs text-gray-500 uppercase">${item.type} â€¢ ${item.date}</p>
                        </div>
                    </div>
                    <button onclick="deleteItem(${item.id})" class="text-red-400 hover:text-red-600 p-2">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                `;
                list.appendChild(row);
            });
        }

        function filterGallery(type) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-indigo-600', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            event.target.classList.add('bg-indigo-600', 'text-white');
            event.target.classList.remove('bg-gray-200', 'text-gray-700');
            renderGallery(type);
        }

        // Modal Logic
        function openModal(item) {
            const modal = document.getElementById('media-modal');
            const content = document.getElementById('modal-content');
            modal.classList.remove('hidden');
            
            if (item.type === 'image') {
                content.innerHTML = `<img src="${item.src}" class="max-h-[90vh] rounded-lg shadow-2xl">`;
            } else {
                content.innerHTML = `
                    <video controls autoplay class="max-h-[90vh] w-full rounded-lg shadow-2xl">
                        <source src="${item.src}">
                        Your browser does not support the video tag.
                    </video>`;
            }
        }

        function closeModal() {
            const modal = document.getElementById('media-modal');
            const content = document.getElementById('modal-content');
            modal.classList.add('hidden');
            content.innerHTML = '';
        }

        // Publishing Tool: Exports the current state into a new HTML file
        function exportStaticSite() {
            const currentHtml = document.documentElement.outerHTML;
            
            // Prepare the new data strings
            const mediaJson = JSON.stringify(appState.mediaItems, null, 4);
            const studentsJson = JSON.stringify(appState.students, null, 4);
            
            // Create the new script content
            const dataRegex = /\/\/ DATA_START[\s\S]*?\/\/ DATA_END/;
            const newDataSegment = `// DATA_START
            mediaItems: ${mediaJson},
            students: ${studentsJson},
            // DATA_END`;
            
            let newHtml = currentHtml.replace(dataRegex, newDataSegment);
            
            // Clean up any UI states before saving
            newHtml = newHtml.replace(/section-home/g, 'section-home');
            
            const blob = new Blob([`<!DOCTYPE html>\n${newHtml}`], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'published_class_x.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('Success! "published_class_x.html" has been downloaded. Upload this file to Netlify or GitHub to share it with your students.');
        }

        // Run on load
        window.onload = init;
    </script>
<script defer="" src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;version&quot;:&quot;2024.11.0&quot;,&quot;token&quot;:&quot;cfb6543e268d4ceb92c8170675caa481&quot;,&quot;r&quot;:1,&quot;server_timing&quot;:{&quot;name&quot;:{&quot;cfCacheStatus&quot;:true,&quot;cfEdge&quot;:true,&quot;cfExtPri&quot;:true,&quot;cfL4&quot;:true,&quot;cfOrigin&quot;:true,&quot;cfSpeedBrain&quot;:true},&quot;location_startswith&quot;:null}}" crossorigin="anonymous"></script>


</body></html>